{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Kasperi\\\\Web-ohjelmoinnin-sovelluskehykset\\\\exercise3\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\Kasperi\\\\Web-ohjelmoinnin-sovelluskehykset\\\\exercise3\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Kasperi\\\\Web-ohjelmoinnin-sovelluskehykset\\\\exercise3\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import'./App.css';import{useEffect,useState}from'react';import Header from'./components/Header';import ProductsContainer from'./components/ProductsContainer';import AdminView from'./components/AdminView';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productList=_useState2[0],setProductList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),AdminMode=_useState4[0],setAdminMode=_useState4[1];useEffect(function(){getData().then(setProductList);},[]);function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('products.json');case 2:results=_context.sent;return _context.abrupt(\"return\",results.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}var searchHandler=function searchHandler(searchText){var newSearchArgument={'search':searchText};getData().then(function(res){setProductList(searchEngine(res,newSearchArgument));});};var searchEngine=function searchEngine(products,searchArgument){var search=searchArgument.search.toString().toLowerCase().trim();var searchResult=products.filter(function(item){return Object.keys(item).some(function(key){return item[key].toString().toLowerCase().includes(search);});});return searchResult;};var addImg=function addImg(file,size,alt){return/*#__PURE__*/_jsx(\"img\",{alt:alt,width:size,src:file});};var output=/*#__PURE__*/_jsx(ProductsContainer,{products:productList,addImage:addImg});if(AdminMode==true){output=/*#__PURE__*/_jsx(AdminView,{});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{addImage:addImg,searchResult:productList,onAddClick:searchHandler,adminMode:AdminMode,setAdminMode:setAdminMode}),/*#__PURE__*/_jsx(\"div\",{children:output})]});}export default App;","map":{"version":3,"sources":["C:/Users/Kasperi/Web-ohjelmoinnin-sovelluskehykset/exercise3/src/App.js"],"names":["useEffect","useState","Header","ProductsContainer","AdminView","axios","App","productList","setProductList","AdminMode","setAdminMode","getData","then","get","results","data","searchHandler","searchText","newSearchArgument","res","searchEngine","products","searchArgument","search","toString","toLowerCase","trim","searchResult","filter","item","Object","keys","some","key","includes","addImg","file","size","alt","output"],"mappings":"sdAAA,MAAO,WAAP,CACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,gCAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CAEb,cAAwCL,QAAQ,CAAC,EAAD,CAAhD,wCAAQM,WAAR,eAAqBC,cAArB,eACA,eAAoCP,QAAQ,CAAC,KAAD,CAA5C,yCAAQQ,SAAR,eAAmBC,YAAnB,eAEAV,SAAS,CAAC,UAAM,CACdW,OAAO,GAAGC,IAAV,CAAeJ,cAAf,EACD,CAFQ,CAEN,EAFM,CAAT,CALa,QASEG,CAAAA,OATF,+HASb,qKACwBN,CAAAA,KAAK,CAACQ,GAAN,CAAU,eAAV,CADxB,QACQC,OADR,+CAESA,OAAO,CAACC,IAFjB,wDATa,0CAcb,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAEC,UAAF,CAAiB,CACrC,GAAIC,CAAAA,iBAAiB,CAAG,CACrB,SAAUD,UADW,CAAxB,CAIAN,OAAO,GAAGC,IAAV,CAAe,SAASO,GAAT,CACf,CAACX,cAAc,CAACY,YAAY,CAACD,GAAD,CAAKD,iBAAL,CAAb,CAAd,CAAoD,CADrD,EAED,CAPD,CASA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,QAAD,CAAWC,cAAX,CAA8B,CACjD,GAAIC,CAAAA,MAAM,CAAGD,cAAc,CAACC,MAAf,CAAsBC,QAAtB,GAAiCC,WAAjC,GAA+CC,IAA/C,EAAb,CACA,GAAIC,CAAAA,YAAY,CAAGN,QAAQ,CAACO,MAAT,CAAgB,SAAAC,IAAI,CAAI,CAC3C,MAAOC,CAAAA,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,IAAlB,CAAuB,SAAAC,GAAG,QAC/BJ,CAAAA,IAAI,CAACI,GAAD,CAAJ,CAAUT,QAAV,GAAqBC,WAArB,GAAmCS,QAAnC,CAA4CX,MAA5C,CAD+B,EAA1B,CAAP,CAEC,CAHkB,CAAnB,CAKA,MAAOI,CAAAA,YAAP,CACD,CARD,CAWA,GAAMQ,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,IAAD,CAAOC,IAAP,CAAaC,GAAb,CAAqB,CAClC,mBACE,YAAK,GAAG,CAAGA,GAAX,CAAkB,KAAK,CAAGD,IAA1B,CAAiC,GAAG,CAAGD,IAAvC,EADF,CAGD,CAJD,CAMA,GAAIG,CAAAA,MAAM,cAAI,KAAC,iBAAD,EACZ,QAAQ,CAAGhC,WADC,CAEZ,QAAQ,CAAG4B,MAFC,EAAd,CAIA,GAAI1B,SAAS,EAAI,IAAjB,CAAwB,CACtB8B,MAAM,cAAG,KAAC,SAAD,IAAT,CACD,CAED,mBACE,oCACE,KAAC,MAAD,EACE,QAAQ,CAAGJ,MADb,CAEE,YAAY,CAAG5B,WAFjB,CAGE,UAAU,CAAGS,aAHf,CAIE,SAAS,CAAGP,SAJd,CAKE,YAAY,CAAGC,YALjB,EADF,cAQE,qBAEI6B,MAFJ,EARF,GADF,CAeD,CAED,cAAejC,CAAAA,GAAf","sourcesContent":["import './App.css';\nimport { useEffect, useState } from 'react';\nimport Header from './components/Header';\nimport ProductsContainer from './components/ProductsContainer';\nimport AdminView from './components/AdminView';\nimport axios from 'axios';\n\nfunction App() {\n\n  const [ productList, setProductList ] = useState([]);\n  const [ AdminMode, setAdminMode ] = useState(false);\n\n  useEffect(() => {\n    getData().then(setProductList);\n  }, []);\n\n  async function getData() {\n    const results = await axios.get('products.json');\n    return results.data;\n  }\n\n  const searchHandler = ( searchText) => {\n    var newSearchArgument = {\n       'search': searchText\n    };\n    \n    getData().then(function(res)\n    {setProductList(searchEngine(res,newSearchArgument))});\n  }\n\n  const searchEngine = (products, searchArgument) => {\n    var search = searchArgument.search.toString().toLowerCase().trim();\n    var searchResult = products.filter(item => {\n    return Object.keys(item).some(key => \n      item[key].toString().toLowerCase().includes(search));\n    });\n    \n    return searchResult;\n  }\n\n\n  const addImg = (file, size, alt) => {\n    return(\n      <img alt={ alt }  width={ size } src={ file }/>\n    )\n  }\n  \n  let output =  <ProductsContainer \n    products={ productList }\n    addImage={ addImg }\n  />;\n  if( AdminMode == true ) {\n    output = <AdminView/>;\n  }\n\n  return (\n    <div>\n      <Header \n        addImage={ addImg }\n        searchResult={ productList }\n        onAddClick={ searchHandler }\n        adminMode={ AdminMode }\n        setAdminMode={ setAdminMode }\n      />\n      <div>\n      \n        { output }\n      </div>\n    </div>\n  )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}