{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Kasperi\\\\Web-ohjelmoinnin-sovelluskehykset\\\\exercise3\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\Kasperi\\\\Web-ohjelmoinnin-sovelluskehykset\\\\exercise3\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Kasperi\\\\Web-ohjelmoinnin-sovelluskehykset\\\\exercise3\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import{useEffect,useState}from'react';import axios from'axios';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrashAlt}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminView(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productList=_useState2[0],setProductList=_useState2[1];function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('http://localhost:3000/products/');case 2:results=_context.sent;return _context.abrupt(\"return\",results.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}useEffect(function(){getData().then(setProductList);},[]);var onItemDelete=function onItemDelete(item){axios.delete('http://localhost:3000/products/'+item.id).then(function(response){console.log(response);}).then(function(){getData().then(setProductList);});};var onItemAdd=function onItemAdd(event){event.preventDefault();axios.post('http://localhost:3000/products/',{type:event.target.type.value,brand:event.target.brand.value,rating:event.target.rating.value,price:event.target.price.value,img:event.target.img.value,category:event.target.category.value,additionals:event.target.additionals.value,tags:event.target.tags.value}).then(function(response){console.log(response);}).then(function(){getData().then(setProductList);});};var CreateProductList=function CreateProductList(props){return props.products.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"add\",children:item.id}),/*#__PURE__*/_jsx(\"div\",{className:\"add\",children:item.brand}),/*#__PURE__*/_jsx(\"div\",{className:\"add\",children:item.type}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[item.price,\"\\u20AC\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"\",onClick:function onClick(){return onItemDelete(item);},children:[\"Delete \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrashAlt})]})})]});});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Mode\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add new product\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onItemAdd,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"add\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"Name: \"}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"type\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"Brand: \"}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"brand\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"Price: \"}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"Review 1-5: \"}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"rating\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"Picture: \"}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"img\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"Search Terms: \"}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"tags\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"searchIcon3\",children:\"Add product\"}),/*#__PURE__*/_jsx(\"div\",{className:\"productContainer\",children:/*#__PURE__*/_jsx(CreateProductList,{products:productList})})]})]})]})});}","map":{"version":3,"sources":["C:/Users/Kasperi/Web-ohjelmoinnin-sovelluskehykset/exercise3/src/components/AdminView.js"],"names":["React","useEffect","useState","axios","FontAwesomeIcon","faTrashAlt","AdminView","productList","setProductList","getData","get","results","data","then","onItemDelete","item","delete","id","response","console","log","onItemAdd","event","preventDefault","post","type","target","value","brand","rating","price","img","category","additionals","tags","CreateProductList","props","products","map"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function AdminView() {\r\n\r\n  const [ productList, setProductList ] = useState([]);\r\n\r\n  async function getData() {\r\n    const results = await axios.get('http://localhost:3000/products/');\r\n    return results.data;\r\n  }\r\n  \r\n  useEffect(() => {\r\n    getData().then(setProductList);\r\n  }, []);\r\n\r\n  const onItemDelete = (item) => {\r\n    axios.delete('http://localhost:3000/products/'+item.id)\r\n      .then(function (response) {\r\n      console.log(response);\r\n    }).then(function () {\r\n      getData().then(setProductList);\r\n    });\r\n  }\r\n\r\n  const onItemAdd = (event) => {\r\n    event.preventDefault();\r\n    axios.post('http://localhost:3000/products/', {\r\n      type: event.target.type.value,\r\n      brand: event.target.brand.value,\r\n      rating: event.target.rating.value,\r\n      price: event.target.price.value,\r\n      img: event.target.img.value,\r\n      category: event.target.category.value,\r\n      additionals: event.target.additionals.value,\r\n      tags: event.target.tags.value\r\n    }).then(function (response) {\r\n      console.log(response);\r\n    }).then(function () {\r\n      getData().then(setProductList);\r\n    });\r\n  }\r\n  \r\n  const CreateProductList = (props) => {\r\n    \r\n    return(\r\n      props.products.map((item) => {\r\n        \r\n        return (\r\n          <div>\r\n            <div className='add'>{ item.id }</div>\r\n            <div className='add'>{ item.brand }</div>\r\n            <div className='add'>{ item.type }</div>\r\n            <div className=''>{ item.price }€</div>\r\n            <div className=''>\r\n              <button className='' onClick={()=> onItemDelete(item)}>Delete <FontAwesomeIcon icon={ faTrashAlt }/></button>\r\n            </div>\r\n          </div>  \r\n        ) \r\n      })\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=''>\r\n        <h1>Admin Mode</h1>\r\n        \r\n        <div>\r\n          <h3>Add new product</h3>\r\n          <form onSubmit={ onItemAdd }>\r\n              \r\n              <div className=\"add\"><div className='text'>Name: </div> <input type=\"text\" name=\"type\"/></div>\r\n              <div className=\"add\"><div className='text'>Brand: </div> <input type=\"text\" name=\"brand\"/></div>\r\n              <div className=\"add\"><div className='text'>Price: </div> <input type=\"number\" name=\"price\"/></div>\r\n              <div className=\"add\"><div className='text'>Review 1-5: </div> <input type=\"number\" name=\"rating\"/></div>\r\n              <div className=\"add\"><div className='text'>Picture: </div> <input type=\"text\" name=\"img\"/></div>\r\n              <div className=\"add\"><div className='text'>Search Terms: </div> <input type=\"text\" name=\"tags\"/></div>\r\n              <button className='searchIcon3'>Add product</button>\r\n              <div className='productContainer'>\r\n          \r\n          <CreateProductList products={ productList }/> \r\n        </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}